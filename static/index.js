(()=>{"use strict";var t=function(t){return{x:t.dataset.coorsX,y:t.dataset.coorsY}};function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var o=function(e,r,o){console.log(o),null!=o&&o.length&&o.forEach((function(t){return t.classList.remove(r)}));var a,i=document.querySelector("[data-empty='true']"),u=t(i),c=(u.x,u.y,{top:!1,right:!1,bottom:!1,left:!1}),l=(a=e,function(t){if(Array.isArray(t))return n(t)}(a)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(a)||function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).findIndex((function(t){return t.dataset.empty}))+1;console.log(l),l>4&&Object.assign(c,{top:!0}),l<13&&Object.assign(c,{bottom:!0}),l%4&&Object.assign(c,{right:!0}),l%4!=1&&Object.assign(c,{left:!0});var s=[c.top&&e[l+-4-1],c.right&&e[l+1-1],c.bottom&&e[l+4-1],c.left&&e[l+-1-1]].filter((function(t){return t}));return s.forEach((function(t){return t.classList.add(r)})),console.log("result",s),s},a=document.querySelectorAll(".item"),i=document.querySelector("#monitor>div>span"),u=0,c=[];!function(t){var r=new Array(16).fill(null).map((function(t,e){return e+1}));r[15]=null,t.forEach((function(t,n){var o=Math.round(Math.random()*(r.length-1));t.textContent=r[o],t.setAttribute("draggable",!0),r[o]||(t.setAttribute("data-empty",!0),t.setAttribute("draggable",!1)),function(t,r){"number"==typeof r&&(t.setAttribute("data-coors-x",r%4+1),t.setAttribute("data-coors-y",Math.floor(r/4)+1)),"object"===e(r)&&r.x&&r.y&&(t.setAttribute("data-coors-x",r.x),t.setAttribute("data-coors-y",r.y))}(t,n),delete r[o],r=r.flat()})),c=o(t,"can-go",c)}(a),a.forEach((function(e){e.addEventListener("click",(function(t){})),e.addEventListener("dragstart",(function(t){return t.dataTransfer.setData("text/plain",JSON.stringify({id:t.target.id,text:t.target.innerText})),!1})),e.addEventListener("dragover",(function(t){t.preventDefault(),t.target.style.backgroundColor="red"})),e.addEventListener("dragleave",(function(t){t.preventDefault(),t.target.style.backgroundColor=""})),e.addEventListener("drop",(function(e){e.preventDefault(),function(t){t.forEach((function(t){return t.style.backgroundColor=""}))}(a);var n=JSON.parse(e.dataTransfer.getData("text/plain")),l=n.id,s=(n.text,document.getElementById(l));(function(e,r){var n=t(e),o=t(r),a=!!e.dataset.empty,i=1===Math.abs(n.x-o.x),u=1===Math.abs(n.y-o.y),c=Math.abs(n.x-o.x)>1||Math.abs(n.y-o.y)>1;return a&&!c&&(i&&!u||!i&&u)})(e.target,s)&&(u++,i.textContent=u,function(t,e){var r=t.textContent;t.textContent=e.textContent,e.textContent=r,t.removeAttribute("data-empty"),t.setAttribute("draggable",!0),e.setAttribute("data-empty",!0),e.setAttribute("draggable",!1)}(e.target,s),console.log(c),c=o(a,"can-go",c),function(t){return!!(e=t,t=function(t){if(Array.isArray(t))return r(t)}(e)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).pop().dataset.empty&&t.every((function(t,e){return t.textContent==e+1}));var e}(a)&&(document.querySelector("#score").innerText=u,Object.assign(document.querySelector("#modal").style,{bottom:"0px",right:"0px",opacity:1})))}))}))})();